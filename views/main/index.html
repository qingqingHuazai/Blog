<!--继承-->
{% extends 'layout.html' %}

<!--重写模块-->
{%block content%}
    <!--主体部分-->
    {%for content in contents%}
    <div class="listBox">
        <h4 class="text-center">{{content.title}}</h4>
        <p class="colDefault">
            作者：<span class="colInfo">{{content.user.username}}</span>
            时间：<span class="colInfo">{{content.addTime|date('Y年m月d日  h:m:s',-8*60)}}</span>
            阅读量：<span class="colInfo">{{content.views}}</span>
            评论：<span class="colInfo">{{content.comments.length}}</span>
        </p>
        <dfn><p>介绍:{{content.description}}</p></dfn>
        <div class="function"><a href="/view?contentId={{content.id}}">阅读全文</a></div>
    </div>
    {%endfor%}

    <!--分页-->
    <div class="pages white-bg">
        <div class="row">
            <div class="col-sm-3">
                {%if page<=1%}
                <span> 没有上一页了</span>
                {%else%}
                <a href="/?category={{category}}&page={{page-1}}">
                    上一页
                </a>
                {%endif%}
            </div>
            <div class="col-sm-6 text-center">
                {%if pages>0%}
                <strong>{{page}}/{{pages}}</strong>
                {%else%}
                <strong>当前分页下没有列表</strong>
                {%endif%}
            </div>
            <div class="col-sm-3 text-right">
                {%if page>=pages%}
                <span> 没有下一页了</span>
                {%else%}
                <a href="/?category={{category}}&page={{page+1}}">
                    下一页
                </a>
                {%endif%}
            </div>
        </div>
    </div>
{%endblock%}